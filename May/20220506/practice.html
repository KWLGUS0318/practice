<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <div id="root">
    <div>pokemon</div>
    <button>click</button>
    <button id="click-btn">click</button>
  </div>

  <script>
    
    /*
    
    1. 식별할 녀석들을 작성해준다.
    2. 이벤트가 일어날때 배열에 있는 값이 나타난다. --> 숫자를 써먹어야겠다.
    3. 이벤트가 일어날때 배열에 있는 원소들이 순차적으로 나타난다.
    4. 마지막 원소가 나타난 뒤에는 새로운 텍스트 "포켓몬을 다모았다"를 보여준다.
    
    */
   
   const practics = ["피카츄", "라이츄", "파이리", "꼬부기", "버터풀", "야도란", "피죤투", "또가스"];
   const completeText = "포켓몬을 다모았다.";
    const root = document.getElementById("root");
    const div = root.children[0];
    const button = root.children[1];
    console.log(root);
    console.log(div);
    console.log(button);

    let current = 0;
    let isEnd = false;
    let isStatus = true;
    button.addEventListener('click', function() {

      if(current < practics.length) {
        const makeDiv = document.createElement("div");
        makeDiv.textContent = practics[current];
        div.appendChild(makeDiv);
        console.log(practics[current]);
        current++;
      } 

      if(current >= practics.length) {
        console.log('hello');
        div.textContent = completeText;
        isEnd = true;
        console.log(isEnd + "트루로 바뀌었습니다.")
      if(isStatus === true) {
        if(current < practics.length) {
          const makeDiv = document.createElement("div");
          makeDiv.textContent = practics[current];
          div.appendChild(makeDiv);
          console.log(practics[current]);
          current++;
        } 

        if(current >= practics.length) {
          console.log('hello');
          div.textContent = completeText;
          isEnd = true;
          console.log(isEnd + "트루로 바뀌었습니다.")
        }

        if(isEnd === true) {
          current = 0;
          console.log(current + " : current 값이 0으로 바뀌었습니다.");
          isEnd = false;
          isStatus = false;
        }
      } else { // else : isStatus 가 false 
        alert("모든 포켓몬스터를 다 조회하셧습니다.");
        const makeBtn = document.createElement('button');
        makeBtn.textContent = "다시 포켓몬을 모으시겠습니까?";
        root.appendChild(makeBtn);

        const reWorkBtn = root.children[2];
        reWorkBtn.addEventListener('click', function() {
          isStatus = true;
          div.textContent = '다시 시작!';
          let getElement = root.children[2];
          root.removeChild(getElement);
        });
      }

      if(isEnd === true) {
        current = 0;
        console.log(current + " : current 값이 0으로 바뀌었습니다.");
        isEnd = false;
      }}

    });


  </script>
</body>
</html>